agent_name: "codex"
agent_version: "0.104.0"
call_mode: "cli"
call_config:
  cmd: "bash benchmark/run_codex_podman.sh"
  timeout: 600
  max_retries: 2

input_llm_instruction: |
  You are adapting a benchmark task into the final Codex CLI input.
  Output only the final prompt for the agent, no extra text.

input_prompt_template: |
  You are a coding agent. Complete the task.
  [Requirement]
  {{ case.requirement }}
  [Initial Code]
  {{ case.initial_code | to_json }}
  [Acceptance Tests]
  {{ case.acceptance_criteria.test_code | to_json }}
  [Constraints]
  - Only modify necessary files
  - All code must run in the provided base image

output_parse_template: |
  Parse the agent output into JSON.
  [Agent Output]
  {{ agent_raw_output }}
  [Final Code]
  {{ final_code }}
  Output JSON:
  {
    "task_completed": bool,
    "code_change_summary": "str",
    "changed_files": ["..."],
    "failure_reason": "str",
    "has_expected_defect": bool
  }
